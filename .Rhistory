library(quantmod)
getTimeSeries <- function(symbol) {
library(quantmod)
timeSeries <- getSymbols(symbol, src = "yahoo", from = (Sys.Date() - 700),
to = Sys.Date(),
auto.assign = FALSE)
colnames(timeSeries) <- c("Open", "High", "Low", "Close", "Volume", "Adjusted")
return(timeSeries)
}
timeSeries <- getTimeSeries("0P000125KV.L")
timeSeries <- as.data.frame(timeSeries)
timeSeries$Date <- rownames(timeSeries)
library(dplyr)
library(lubridate)
x <- merge.data.frame(timeSeries$Date, timeSeries$Close)
colnames(x) <- c("Date", "Close")
calculateMacd <- function(timeSeries) {
macd <- MACD(timeSeries$Close)
macd <- as.data.frame(macd)
macd$date <- row.names(macd)
return(macd)
}
macd <- calculateMacd(x)
library(plotly)
fig <- plot_ly(macd, x = ~date, y = ~macd,
name = "MACD",
type = "bar"
)
macd
macd <- calculateMacd(timeSeries)
macd
timeSeries
macd <- calculateMacd(timeSeries)
macd
x <- merge.data.frame(timeSeries$Date, timeSeries$Close)
colnames(x) <- c("Date", "Close")
calculateMacd <- function(timeSeries) {
macd <- MACD(timeSeries$Close)
macd <- as.data.frame(macd)
macd$date <- row.names(timeSeries$Date)
return(macd)
}
macd <- calculateMacd(x)
macd
calculateMacd <- function(timeSeries) {
macd <- MACD(timeSeries$Close)
macd <- as.data.frame(macd)
macd$date <- timeSeries$Date
return(macd)
}
macd <- calculateMacd(x)
macd
library(plotly)
fig <- plot_ly(macd, x = ~date, y = ~macd,
name = "MACD",
type = "bar"
)
fig <- fig %>% add_trace(y = ~signal, name = 'Signal')
fig
